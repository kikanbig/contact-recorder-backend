# üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

## –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ: Faster-Whisper ‚ö°
**–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 2-4x –±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω–æ–≥–æ Whisper
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- `compute_type="int8"` - –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- `beam_size=1` - —É–º–µ–Ω—å—à–µ–Ω–æ —Å 5 –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- `best_of=1` - —É–º–µ–Ω—å—à–µ–Ω–æ —Å 5 –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏  
- `vad_filter=True` - —Ñ–∏–ª—å—Ç—Ä –≥–æ–ª–æ—Å–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

## WhisperX —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π —Å–ø–∏–∫–µ—Ä–æ–≤ üî•
**–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: –î–æ 70x –±—ã—Å—Ç—Ä–µ–µ –æ–±—ã—á–Ω–æ–≥–æ Whisper
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WhisperX:
- **–ë–∞—Ç—á–∏–Ω–≥ –∞—É–¥–∏–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è
- **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Å–ª–æ–≤** —Å —Ç–æ—á–Ω—ã–º–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- **–î–∏–∞—Ä–∏–∑–∞—Ü–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –∏ –∫–ª–∏–µ–Ω—Ç–∞
- **–î–æ 70x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–∞—Ç—á–∏–Ω–≥–∞

### API Endpoint:
```
POST /api/recordings/:id/transcribe-whisperx
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "model": "small",
  "hf_token": "your_huggingface_token"
}
```

### –û—Ç–≤–µ—Ç —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π:
```json
{
  "success": true,
  "transcription": "–ü–æ–ª–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è...",
  "seller_text": "–¢–µ–∫—Å—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞...",
  "client_text": "–¢–µ–∫—Å—Ç –∫–ª–∏–µ–Ω—Ç–∞...",
  "speakers": {
    "seller": "SPEAKER_00",
    "client": "SPEAKER_01",
    "total_speakers": 2
  },
  "metadata": {
    "transcription_method": "whisperx",
    "segments": [...],
    "device": "cpu"
  }
}
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏:
- **HuggingFace —Ç–æ–∫–µ–Ω** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª—è–º –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: pyannote.audio, speechbrain
- **–ë–æ–ª—å—à–µ RAM** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏

## –î–∞–ª—å–Ω–µ–π—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —É—Å–∫–æ—Ä–µ–Ω–∏—è:

### 2. Whisper.cpp - –Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å üí™
```bash
pip install whisper-cpp-python
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- C++ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- 5-10x –±—ã—Å—Ç—Ä–µ–µ Python –≤–µ—Ä—Å–∏–∏
- –û—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### 3. Distil-Whisper - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ üéØ
```bash
pip install transformers torch
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–∂–∞—Ç—ã–µ –º–æ–¥–µ–ª–∏
- 5.8x –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ 99% —Ç–æ—á–Ω–æ—Å—Ç–∏
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–µ–π

### 4. GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ üñ•Ô∏è
–ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω GPU –Ω–∞ Railway:
```python
model = WhisperModel(model_size, device="cuda", compute_type="float16")
```

### 5. Streaming —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è üì°
–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
```bash
pip install whisper-live
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —ç—Ç–∞–ø–∞–º:

### –≠—Ç–∞–ø 1: ‚úÖ Faster-Whisper (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- –ü—Ä–æ—Å—Ç–∞—è –∑–∞–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- 2-4x —É—Å–∫–æ—Ä–µ–Ω–∏–µ
- –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è API

### –≠—Ç–∞–ø 2: ‚úÖ WhisperX —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ 70x
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ø–∏–∫–µ—Ä–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å/–∫–ª–∏–µ–Ω—Ç
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –≠—Ç–∞–ø 3: GPU –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ï—Å–ª–∏ Railway –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç GPU
- –ï—â—ë –±–æ–ª—å—à–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ —Å–ø–∏–∫–µ—Ä–æ–≤:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HuggingFace —Ç–æ–∫–µ–Ω–∞:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://huggingface.co
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `HUGGINGFACE_TOKEN=your_token`
4. –ò–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –≤ –∑–∞–ø—Ä–æ—Å–µ: `{"hf_token": "your_token"}`

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
- `seller_text` - —Ç–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–¥–∞–≤–µ—Ü)
- `client_text` - —Ç–µ–∫—Å—Ç –≤—Ç–æ—Ä–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –∫–ª–∏–µ–Ω—Ç)
- `segments` - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –æ—Ç—Ä–µ–∑–∫–∞–º —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–ø–∏–∫–µ—Ä–∞

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- –í—Ä–µ–º—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ stderr
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–π —è–∑—ã–∫ –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–ø–∏–∫–µ—Ä–æ–≤

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤:

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π:
```python
model = "tiny"  # –°–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å
batch_size = 16  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞—Ç—á–∏–Ω–≥
```

### –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ:
```python
model = "small"  # –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ–¥–µ–ª—å
batch_size = 16  # –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞—Ç—á–∏–Ω–≥
```

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏:
```python
model = "medium"  # –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
batch_size = 8   # –ú–µ–Ω—å—à–∏–π –±–∞—Ç—á–∏–Ω–≥ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
``` 