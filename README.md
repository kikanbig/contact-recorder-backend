# üéôÔ∏è Contact Recorder Backend - –í–µ—Ä—Å–∏—è 1.0

Node.js backend —Å PostgreSQL –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π.

## üöÄ –í–µ—Ä—Å–∏—è 1.0 - –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å Faster-Whisper

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤** –æ—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ Railway
- **–í–µ–± –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç—ë–º–Ω–æ–π —Ç–µ–º–æ–π
- **üöÄ –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** —á–µ—Ä–µ–∑ Faster-Whisper (2-4x –±—ã—Å—Ç—Ä–µ–µ)
- **–í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π Whisper** (tiny, base, small, medium, large)
- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **–ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π** —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π** –±–µ–∑ popup-–æ–∫–æ–Ω
- **–°–∏—Å—Ç–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** Whisper/Python/FFmpeg
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### üéØ –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞**: Faster-Whisper (–∑–∞–º–µ–Ω–∞ OpenAI Whisper)
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 2-4x –±—ã—Å—Ç—Ä–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Whisper
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**: –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è int8, VAD —Ñ–∏–ª—å—Ç—Ä, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ü–∞–º—è—Ç—å**: –ú–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –ò–¥–µ–Ω—Ç–∏—á–Ω–æ–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É Whisper

### üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
- **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞** —Å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –≤—ã–±–æ—Ä–∞** –∑–∞–ø–∏—Å–µ–π
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π** –ø—Ä—è–º–æ –≤ —Ç–∞–±–ª–∏—Ü–µ
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ `/stats` vs `/:id`
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ JSON –≤—ã–≤–æ–¥–∞ –≤ Python —Å–∫—Ä–∏–ø—Ç–µ
- Unicode –æ—à–∏–±–∫–∏ –≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—É—é)
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º JSON –æ—Ç–≤–µ—Ç–æ–≤
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (—É—Å–∫–æ—Ä–µ–Ω–∞ –≤ 2-4 —Ä–∞–∑–∞)

## üöÄ –î–µ–ø–ª–æ–π

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Railway**: https://contact-recorder-backend-production.up.railway.app

### –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
- **URL**: https://contact-recorder-backend-production.up.railway.app/admin/
- **–õ–æ–≥–∏–Ω**: admin / admin123

## üéôÔ∏è –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è

### Faster-Whisper (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è, –±—ã—Å—Ç—Ä–∞—è):
- **Faster-Whisper** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (2-4x –±—ã—Å—Ç—Ä–µ–µ)
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞** —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é
- **–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω** –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **–ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è int8** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
- **VAD —Ñ–∏–ª—å—Ç—Ä** –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ —Ç–∏—à–∏–Ω—ã

### –ú–æ–¥–µ–ª–∏ Whisper:
| –ú–æ–¥–µ–ª—å | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | RAM | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|-----------|-----|----------|----------|--------------|
| `tiny` | 39M | ~1GB | –ë–∞–∑–æ–≤–æ–µ | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | üèÉ‚Äç‚ôÇÔ∏è –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å |
| `base` | 74M | ~1GB | –•–æ—Ä–æ—à–µ–µ | –ë—ã—Å—Ç—Ä–æ | –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| **`small`** | **244M** | **~2GB** | **–û—Ç–ª–∏—á–Ω–æ–µ** | **–°—Ä–µ–¥–Ω–µ** | **üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ** |
| `medium` | 769M | ~5GB | –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–µ | –ú–µ–¥–ª–µ–Ω–Ω–æ | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| `large` | 1550M | ~10GB | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ | –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ | –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã |

### üìä –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- `compute_type="int8"` - –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
- `beam_size=1` - —É–º–µ–Ω—å—à–µ–Ω–æ —Å 5 –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- `best_of=1` - —É–º–µ–Ω—å—à–µ–Ω–æ —Å 5 –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏  
- `vad_filter=True` - —Ñ–∏–ª—å—Ç—Ä –≥–æ–ª–æ—Å–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `temperature=0.0` - –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üì° API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–¥–º–∏–Ω)

### –ó–∞–ø–∏—Å–∏
- `POST /api/recordings/upload` - –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ
- `GET /api/recordings` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/recordings/admin` - –í—Å–µ –∑–∞–ø–∏—Å–∏ (–∞–¥–º–∏–Ω)
- `GET /api/recordings/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø–∏—Å–µ–π
- `GET /api/recordings/:id` - –î–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏
- `GET /api/recordings/:id/audio` - –°–∫–∞—á–∞—Ç—å –∞—É–¥–∏–æ —Ñ–∞–π–ª
- `POST /api/recordings/:id/transcribe` - –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è (–∞–¥–º–∏–Ω)
- `DELETE /api/recordings` - –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–∞–¥–º–∏–Ω)

### –°–∏—Å—Ç–µ–º–∞
- `GET /api/recordings/system-check` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Faster-Whisper/Python/FFmpeg

### –õ–æ–∫–∞—Ü–∏–∏
- `GET /api/locations` - –°–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π
- `POST /api/locations` - –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞—Ü–∏—é (–∞–¥–º–∏–Ω)
- `PUT /api/locations/:id` - –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é (–∞–¥–º–∏–Ω)
- `DELETE /api/locations/:id` - –£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é (–∞–¥–º–∏–Ω)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js + Express
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (Railway)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT
- **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è**: Faster-Whisper (—É—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- **–î–µ–ø–ª–æ–π**: Railway —Å Nixpacks
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Vanilla JS —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ç—ë–º–Ω–æ–π —Ç–µ–º–æ–π

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è Faster-Whisper

- **Python**: 3.8-3.11 (–Ω–µ 3.13!)
- **FFmpeg**: –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ
- **RAM**: 1-10GB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏, –Ω–æ –º–µ–Ω—å—à–µ —á–µ–º –æ–±—ã—á–Ω—ã–π Whisper)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: faster-whisper, torch, torchaudio

## üéâ –í–µ—Ä—Å–∏–∏

- **v1.0** - –¢–µ–∫—É—â–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å Faster-Whisper ‚ö°
- **v1.0-whisper** - –ü—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è —Å –æ–±—ã—á–Ω—ã–º Whisper
- **v0.1** - –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π

## üîó –°—Å—ã–ª–∫–∏

- **GitHub**: https://github.com/kikanbig/contact-recorder-backend
- **Railway**: https://contact-recorder-backend-production.up.railway.app
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: https://contact-recorder-backend-production.up.railway.app/admin/

---
**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: –ò—é–Ω—å 2025  
**–°—Ç–∞—Ç—É—Å**: –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è —Å —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π ‚ö°‚úÖ
